# 后端需求说明模板（通用）

> 目的：给后端实现与联调验收用的“落地文档”，不是产品故事会。  
> 数据口径：以“原始需求 + 冲突 Q&A 的回答”为准；未确认项必须进 TBD。

---

## 0. 冲突 Q&A 结论汇总（Decision Log）

> 要求：把 Q&A 的回答压成“可落地的一句话结论”，便于后端实现与验收对齐；未回答/无法落地的标记为 TBD，并在文末“未决项（TBD）”再次汇总。  
> 提醒：如果该点明确是 UI 纯交互/样式，直接标注 out-of-scope 即可；但只要涉及接口/数据/校验/删除/验收口径，就要落成后端契约（仅透传 / 不落库 / 不校验 / 默认兜底规则等），不要留成一句空话。

| Q# | 结论（最终口径） | 影响章节 | 是否 TBD |
| --- | --- | --- | --- |
| Q1 |  |  |  |

## 1. 总览

- 背景与目标：
- 范围（In scope）：
- 非目标（Out of scope）：
- 关键术语表（建议放到第 2 节）：

## 2. 术语与对象定义

| 术语 | 含义 | 备注/同义词 |
| --- | --- | --- |
|  |  |  |

## 3. 角色、权限与数据范围

- 角色列表：
- 权限点（Permission）：
- 数据范围（组织层级/部门/站点等）：
- 锁定策略（如果有）：锁定影响哪些操作？提示文案？是否允许改名？

## 4. 领域模型（Domain Model）

### 4.1 核心实体

| 实体 | 说明 | 关键字段 | 唯一约束 | 关联 |
| --- | --- | --- | --- | --- |
|  |  |  |  |  |

### 4.2 关系与级联

- 父子关系：
- 级联创建/删除规则：
- 软删/硬删策略：

## 5. 枚举与字典（Enums）

| 枚举名 | 值 | 含义 | 来源 | 是否可扩展 |
| --- | --- | --- | --- | --- |
|  |  |  |  |  |

## 6. 状态机与流转（State Machine）

### 6.1 状态定义

| 状态 | 含义 | 进入条件 | 退出条件 |
| --- | --- | --- | --- |
|  |  |  |  |

### 6.2 流转规则

- 允许路径：
- 禁止路径（含错误提示建议）：
- 并发策略：乐观锁/版本号/幂等键/事务边界

## 7. 业务规则与校验（Business Rules）

按操作拆清楚（建议：新增/编辑/删除/复制/生成/关联/导入导出等）：

- 新增：
  - 字段校验：
  - 唯一性与幂等：
  - 默认值：
- 编辑：
  - 可编辑字段规则（按状态/权限）：
  - 跨表校验：
- 删除：
  - 删除前置校验：
  - 级联影响：

## 8. 接口清单（API Contract）

| 场景 | 方法 | 路径 | 请求要点 | 响应要点 | 错误码/错误文案 |
| --- | --- | --- | --- | --- | --- |
|  |  |  |  |  |  |

> 需要明确：分页/排序/筛选字段；必填/可选字段；并发与幂等约束；返回字段的稳定性。

## 9. 重点难点（必须写清楚，不然等着线上炸）

- 交叉校验（A 改动影响 B 的合法性）：
- 状态流转与权限耦合：
- 级联删除/关联同步：
- 并发/幂等：

## 10. 验收口径（Acceptance Criteria）

至少覆盖：

- 主流程（Happy path）
- 禁止路径（Denied/Invalid path）
- 边界条件（空数据、极值、重复提交）

## 11. 未决项（TBD）

- TBD-1：
- TBD-2：
